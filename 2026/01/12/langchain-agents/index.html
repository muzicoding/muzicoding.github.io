<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Langchainæ™ºèƒ½ä½“(Agents) | MuziCoding</title><meta name="author" content="Muzi"><meta name="copyright" content="Muzi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="æ™ºèƒ½ä½“å°†è¯­è¨€æ¨¡å‹ä¸å·¥å…·ç»“åˆï¼Œåˆ›å»ºèƒ½å¤Ÿå¯¹ä»»åŠ¡è¿›è¡Œæ¨ç†ã€å†³å®šä½¿ç”¨å“ªäº›å·¥å…·å¹¶è¿­ä»£åœ°è§£å†³é—®é¢˜çš„ç³»ç»Ÿã€‚ create_agent æä¾›äº†ä¸€ä¸ªç”Ÿäº§å°±ç»ªçš„æ™ºèƒ½ä½“å®ç°ã€‚ ä¸€ä¸ª LLM æ™ºèƒ½ä½“åœ¨å¾ªç¯ä¸­è¿è¡Œå·¥å…·ä»¥å®ç°ç›®æ ‡ã€‚æ™ºèƒ½ä½“ä¸€ç›´è¿è¡Œç›´åˆ°æ»¡è¶³åœæ­¢æ¡ä»¶â€”â€”å³æ¨¡å‹å‘å‡ºæœ€ç»ˆè¾“å‡ºæˆ–è¾¾åˆ°è¿­ä»£é™åˆ¶ã€‚ 1. æ ¸å¿ƒç»„ä»¶1.1 æ¨¡å‹æ™ºèƒ½ä½“çš„æ¨ç†å¼•æ“æ˜¯æ¨¡å‹ã€‚å®ƒå¯ä»¥é€šè¿‡å¤šç§æ–¹å¼æŒ‡å®šï¼Œæ”¯æŒé™æ€å’ŒåŠ¨æ€æ¨¡å‹é€‰æ‹©ã€‚ 1.1.1 é™æ€æ¨¡å‹é™æ€æ¨¡å‹">
<meta property="og:type" content="article">
<meta property="og:title" content="Langchainæ™ºèƒ½ä½“(Agents)">
<meta property="og:url" content="http://example.com/2026/01/12/langchain-agents/index.html">
<meta property="og:site_name" content="MuziCoding">
<meta property="og:description" content="æ™ºèƒ½ä½“å°†è¯­è¨€æ¨¡å‹ä¸å·¥å…·ç»“åˆï¼Œåˆ›å»ºèƒ½å¤Ÿå¯¹ä»»åŠ¡è¿›è¡Œæ¨ç†ã€å†³å®šä½¿ç”¨å“ªäº›å·¥å…·å¹¶è¿­ä»£åœ°è§£å†³é—®é¢˜çš„ç³»ç»Ÿã€‚ create_agent æä¾›äº†ä¸€ä¸ªç”Ÿäº§å°±ç»ªçš„æ™ºèƒ½ä½“å®ç°ã€‚ ä¸€ä¸ª LLM æ™ºèƒ½ä½“åœ¨å¾ªç¯ä¸­è¿è¡Œå·¥å…·ä»¥å®ç°ç›®æ ‡ã€‚æ™ºèƒ½ä½“ä¸€ç›´è¿è¡Œç›´åˆ°æ»¡è¶³åœæ­¢æ¡ä»¶â€”â€”å³æ¨¡å‹å‘å‡ºæœ€ç»ˆè¾“å‡ºæˆ–è¾¾åˆ°è¿­ä»£é™åˆ¶ã€‚ 1. æ ¸å¿ƒç»„ä»¶1.1 æ¨¡å‹æ™ºèƒ½ä½“çš„æ¨ç†å¼•æ“æ˜¯æ¨¡å‹ã€‚å®ƒå¯ä»¥é€šè¿‡å¤šç§æ–¹å¼æŒ‡å®šï¼Œæ”¯æŒé™æ€å’ŒåŠ¨æ€æ¨¡å‹é€‰æ‹©ã€‚ 1.1.1 é™æ€æ¨¡å‹é™æ€æ¨¡å‹">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://github.com/muzicoding/muzicoding-img/blob/master/avatar/avatar.png?raw=true">
<meta property="article:published_time" content="2026-01-11T16:00:00.000Z">
<meta property="article:modified_time" content="2026-01-15T11:23:37.424Z">
<meta property="article:author" content="Muzi">
<meta property="article:tag" content="LLM">
<meta property="article:tag" content="Langchain">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/muzicoding/muzicoding-img/blob/master/avatar/avatar.png?raw=true"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Langchainæ™ºèƒ½ä½“(Agents)",
  "url": "http://example.com/2026/01/12/langchain-agents/",
  "image": "https://github.com/muzicoding/muzicoding-img/blob/master/avatar/avatar.png?raw=true",
  "datePublished": "2026-01-11T16:00:00.000Z",
  "dateModified": "2026-01-15T11:23:37.424Z",
  "author": [
    {
      "@type": "Person",
      "name": "Muzi",
      "url": "http://example.com"
    }
  ]
}</script><link rel="shortcut icon" href="https://github.com/muzicoding/muzicoding-img/blob/master/favicon/favicon-32x32.png?raw=true"><link rel="canonical" href="http://example.com/2026/01/12/langchain-agents/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Langchainæ™ºèƒ½ä½“(Agents)',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 8.1.1"></head><body><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://github.com/muzicoding/muzicoding-img/blob/master/footer_img/background.jpeg?raw=true);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="https://github.com/muzicoding/muzicoding-img/blob/master/favicon/favicon-32x32.png?raw=true" alt="Logo"><span class="site-name">MuziCoding</span></a><a class="nav-page-title" href="/"><span class="site-name">Langchainæ™ºèƒ½ä½“(Agents)</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  è¿”å›é¦–é¡µ</span></span></a></span><div id="menus"></div></nav><div id="post-info"><h1 class="post-title">Langchainæ™ºèƒ½ä½“(Agents)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2026-01-11T16:00:00.000Z" title="å‘è¡¨äº 2026-01-12 00:00:00">2026-01-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2026-01-15T11:23:37.424Z" title="æ›´æ–°äº 2026-01-15 19:23:37">2026-01-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Langchain/">Langchain</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>æ™ºèƒ½ä½“å°†è¯­è¨€æ¨¡å‹ä¸å·¥å…·ç»“åˆï¼Œåˆ›å»ºèƒ½å¤Ÿå¯¹ä»»åŠ¡è¿›è¡Œæ¨ç†ã€å†³å®šä½¿ç”¨å“ªäº›å·¥å…·å¹¶è¿­ä»£åœ°è§£å†³é—®é¢˜çš„ç³»ç»Ÿã€‚</p>
<p><code>create_agent</code> æä¾›äº†ä¸€ä¸ªç”Ÿäº§å°±ç»ªçš„æ™ºèƒ½ä½“å®ç°ã€‚</p>
<p>ä¸€ä¸ª LLM æ™ºèƒ½ä½“åœ¨å¾ªç¯ä¸­è¿è¡Œå·¥å…·ä»¥å®ç°ç›®æ ‡ã€‚æ™ºèƒ½ä½“ä¸€ç›´è¿è¡Œç›´åˆ°æ»¡è¶³åœæ­¢æ¡ä»¶â€”â€”å³æ¨¡å‹å‘å‡ºæœ€ç»ˆè¾“å‡ºæˆ–è¾¾åˆ°è¿­ä»£é™åˆ¶ã€‚</p>
<h2 id="1-æ ¸å¿ƒç»„ä»¶"><a href="#1-æ ¸å¿ƒç»„ä»¶" class="headerlink" title="1. æ ¸å¿ƒç»„ä»¶"></a>1. æ ¸å¿ƒç»„ä»¶</h2><h3 id="1-1-æ¨¡å‹"><a href="#1-1-æ¨¡å‹" class="headerlink" title="1.1 æ¨¡å‹"></a>1.1 æ¨¡å‹</h3><p>æ™ºèƒ½ä½“çš„æ¨ç†å¼•æ“æ˜¯æ¨¡å‹ã€‚å®ƒå¯ä»¥é€šè¿‡å¤šç§æ–¹å¼æŒ‡å®šï¼Œæ”¯æŒé™æ€å’ŒåŠ¨æ€æ¨¡å‹é€‰æ‹©ã€‚</p>
<h4 id="1-1-1-é™æ€æ¨¡å‹"><a href="#1-1-1-é™æ€æ¨¡å‹" class="headerlink" title="1.1.1 é™æ€æ¨¡å‹"></a>1.1.1 é™æ€æ¨¡å‹</h4><p>é™æ€æ¨¡å‹åœ¨åˆ›å»ºæ™ºèƒ½ä½“æ—¶é…ç½®ä¸€æ¬¡ï¼Œå¹¶åœ¨æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ä¸­ä¿æŒä¸å˜ã€‚è¿™æ˜¯æœ€å¸¸è§å’Œç›´æ¥çš„æ–¹æ³•ã€‚</p>
<p>è¦ä»æ¨¡å‹æ ‡è¯†ç¬¦å­—ç¬¦ä¸²åˆå§‹åŒ–é™æ€æ¨¡å‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> langchain.agents <span class="keyword">import</span> create_agent</span><br><span class="line"><span class="keyword">from</span> langchain_ollama <span class="keyword">import</span> ChatOllama</span><br><span class="line"></span><br><span class="line">model = ChatOllama(</span><br><span class="line">    model=<span class="string">&quot;qwen3:0.6b&quot;</span>,</span><br><span class="line">    temperature=<span class="number">0.1</span>,</span><br><span class="line">    max_tokens=<span class="number">1000</span>,</span><br><span class="line">    timeout=<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line">agent = create_agent(</span><br><span class="line">    model,</span><br><span class="line">    tools=[]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">response = agent.invoke(</span><br><span class="line">    &#123;<span class="string">&quot;messages&quot;</span>: [&#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;what is the weather outside?&quot;</span>&#125;]&#125;,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(response)</span><br></pre></td></tr></table></figure>

<pre><code>{&#39;messages&#39;: [HumanMessage(content=&#39;what is the weather outside?&#39;, additional_kwargs={}, response_metadata={}, id=&#39;c87e6a84-ac77-4226-849c-62a8a64f94cb&#39;), AIMessage(content=&quot;I can&#39;t provide real-time weather information as I don&#39;t have access to live data. However, I can offer general weather information based on your location or ask you to specify your location for more accurate details. Let me know if you&#39;d like to know the weather in a specific area!&quot;, additional_kwargs={}, response_metadata={&#39;model&#39;: &#39;qwen3:0.6b&#39;, &#39;created_at&#39;: &#39;2026-01-13T08:19:09.5362547Z&#39;, &#39;done&#39;: True, &#39;done_reason&#39;: &#39;stop&#39;, &#39;total_duration&#39;: 5005643500, &#39;load_duration&#39;: 1007363100, &#39;prompt_eval_count&#39;: 16, &#39;prompt_eval_duration&#39;: 139158700, &#39;eval_count&#39;: 161, &#39;eval_duration&#39;: 3814617300, &#39;logprobs&#39;: None, &#39;model_name&#39;: &#39;qwen3:0.6b&#39;, &#39;model_provider&#39;: &#39;ollama&#39;}, id=&#39;lc_run--019bb66f-e2d0-7ea3-8d85-8a7a9812dfde-0&#39;, tool_calls=[], invalid_tool_calls=[], usage_metadata={&#39;input_tokens&#39;: 16, &#39;output_tokens&#39;: 161, &#39;total_tokens&#39;: 177})]}
</code></pre>
<h4 id="1-1-2-åŠ¨æ€æ¨¡å‹"><a href="#1-1-2-åŠ¨æ€æ¨¡å‹" class="headerlink" title="1.1.2 åŠ¨æ€æ¨¡å‹"></a>1.1.2 åŠ¨æ€æ¨¡å‹</h4><p>åŠ¨æ€æ¨¡å‹åœ¨è¿è¡Œæ—¶æ ¹æ®å½“å‰çŠ¶æ€å’Œä¸Šä¸‹æ–‡é€‰æ‹©ã€‚è¿™æ”¯æŒå¤æ‚çš„è·¯ç”±é€»è¾‘å’Œæˆæœ¬ä¼˜åŒ–ã€‚</p>
<p>è¦ä½¿ç”¨åŠ¨æ€æ¨¡å‹ï¼Œä½¿ç”¨ <code>@wrap_model_call</code> è£…é¥°å™¨åˆ›å»ºä¸­é—´ä»¶ï¼Œè¯¥ä¸­é—´ä»¶ä¼šä¿®æ”¹è¯·æ±‚ä¸­çš„æ¨¡å‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> langchain_ollama <span class="keyword">import</span> ChatOllama</span><br><span class="line"><span class="keyword">from</span> langchain.agents <span class="keyword">import</span> create_agent</span><br><span class="line"><span class="keyword">from</span> langchain.agents.middleware <span class="keyword">import</span> wrap_model_call, ModelRequest, ModelResponse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">basic_model = ChatOllama(model=<span class="string">&quot;qwen3:0.6b&quot;</span>)</span><br><span class="line">advanced_model = ChatOllama(model=<span class="string">&quot;qwen3:1.7b&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@wrap_model_call</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dynamic_model_selection</span>(<span class="params">request: ModelRequest, handler</span>) -&gt; ModelResponse:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Choose model based on conversation complexity.&quot;&quot;&quot;</span></span><br><span class="line">    message_count = <span class="built_in">len</span>(request.state[<span class="string">&quot;messages&quot;</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> message_count &gt; <span class="number">10</span>:</span><br><span class="line">        <span class="comment"># Use an advanced model for longer conversations</span></span><br><span class="line">        model = advanced_model</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        model = basic_model</span><br><span class="line"></span><br><span class="line">    request.override(model=model)</span><br><span class="line">    <span class="keyword">return</span> handler(request)</span><br><span class="line"></span><br><span class="line">agent = create_agent(</span><br><span class="line">    model=basic_model,  <span class="comment"># Default model</span></span><br><span class="line">    tools=[],</span><br><span class="line">    middleware=[dynamic_model_selection]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">agent.invoke(</span><br><span class="line">    &#123;<span class="string">&quot;messages&quot;</span>: [&#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;what is the weather outside?&quot;</span>&#125;]&#125;,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(response)</span><br></pre></td></tr></table></figure>

<pre><code>{&#39;messages&#39;: [HumanMessage(content=&#39;what is the weather outside?&#39;, additional_kwargs={}, response_metadata={}, id=&#39;c87e6a84-ac77-4226-849c-62a8a64f94cb&#39;), AIMessage(content=&quot;I can&#39;t provide real-time weather information as I don&#39;t have access to live data. However, I can offer general weather information based on your location or ask you to specify your location for more accurate details. Let me know if you&#39;d like to know the weather in a specific area!&quot;, additional_kwargs={}, response_metadata={&#39;model&#39;: &#39;qwen3:0.6b&#39;, &#39;created_at&#39;: &#39;2026-01-13T08:19:09.5362547Z&#39;, &#39;done&#39;: True, &#39;done_reason&#39;: &#39;stop&#39;, &#39;total_duration&#39;: 5005643500, &#39;load_duration&#39;: 1007363100, &#39;prompt_eval_count&#39;: 16, &#39;prompt_eval_duration&#39;: 139158700, &#39;eval_count&#39;: 161, &#39;eval_duration&#39;: 3814617300, &#39;logprobs&#39;: None, &#39;model_name&#39;: &#39;qwen3:0.6b&#39;, &#39;model_provider&#39;: &#39;ollama&#39;}, id=&#39;lc_run--019bb66f-e2d0-7ea3-8d85-8a7a9812dfde-0&#39;, tool_calls=[], invalid_tool_calls=[], usage_metadata={&#39;input_tokens&#39;: 16, &#39;output_tokens&#39;: 161, &#39;total_tokens&#39;: 177})]}
</code></pre>
<h3 id="1-2-å·¥å…·"><a href="#1-2-å·¥å…·" class="headerlink" title="1.2 å·¥å…·"></a>1.2 å·¥å…·</h3><p>å·¥å…·èµ‹äºˆæ™ºèƒ½ä½“æ‰§è¡Œæ“ä½œçš„èƒ½åŠ›ã€‚æ™ºèƒ½ä½“è¶…è¶Šäº†ç®€å•çš„ä»…æ¨¡å‹å·¥å…·ç»‘å®šï¼Œé€šè¿‡ä¿ƒè¿›ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>æŒ‰é¡ºåºè¿›è¡Œå¤šæ¬¡å·¥å…·è°ƒç”¨ï¼ˆç”±å•ä¸ªæç¤ºè§¦å‘ï¼‰</li>
<li>åœ¨é€‚å½“æƒ…å†µä¸‹å¹¶è¡Œå·¥å…·è°ƒç”¨</li>
<li>æ ¹æ®å…ˆå‰ç»“æœè¿›è¡ŒåŠ¨æ€å·¥å…·é€‰æ‹©</li>
<li>å·¥å…·é‡è¯•é€»è¾‘å’Œé”™è¯¯å¤„ç†</li>
<li>å·¥å…·è°ƒç”¨ä¹‹é—´çŠ¶æ€çš„æŒä¹…åŒ–</li>
</ul>
<h3 id="1-2-1-å®šä¹‰å·¥å…·"><a href="#1-2-1-å®šä¹‰å·¥å…·" class="headerlink" title="1.2.1 å®šä¹‰å·¥å…·"></a>1.2.1 å®šä¹‰å·¥å…·</h3><p>å°†å·¥å…·åˆ—è¡¨ä¼ é€’ç»™æ™ºèƒ½ä½“ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> langchain.tools <span class="keyword">import</span> tool</span><br><span class="line"><span class="keyword">from</span> langchain.agents <span class="keyword">import</span> create_agent</span><br><span class="line"></span><br><span class="line"><span class="meta">@tool</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">query: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Search for information.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">f&quot;Results for: <span class="subst">&#123;query&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@tool</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_weather</span>(<span class="params">location: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Get weather information for a location.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">f&quot;Weather in <span class="subst">&#123;location&#125;</span>: Sunny, 72Â°F&quot;</span></span><br><span class="line"></span><br><span class="line">agent = create_agent(model, tools=[search, get_weather])</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæä¾›äº†ä¸€ä¸ªç©ºçš„å·¥å…·åˆ—è¡¨ï¼Œæ™ºèƒ½ä½“å°†ç”±ä¸€ä¸ªä¸å…·å¤‡å·¥å…·è°ƒç”¨åŠŸèƒ½çš„å•ä¸ª LLM èŠ‚ç‚¹ç»„æˆã€‚</p>
<h4 id="1-2-2-å·¥å…·é”™è¯¯å¤„ç†"><a href="#1-2-2-å·¥å…·é”™è¯¯å¤„ç†" class="headerlink" title="1.2.2 å·¥å…·é”™è¯¯å¤„ç†"></a>1.2.2 å·¥å…·é”™è¯¯å¤„ç†</h4><p>è¦è‡ªå®šä¹‰å·¥å…·é”™è¯¯çš„å¤„ç†æ–¹å¼ï¼Œä½¿ç”¨ <code>@wrap_tool_call</code> è£…é¥°å™¨åˆ›å»ºä¸­é—´ä»¶</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> langchain.agents <span class="keyword">import</span> create_agent</span><br><span class="line"><span class="keyword">from</span> langchain.agents.middleware <span class="keyword">import</span> wrap_tool_call</span><br><span class="line"><span class="keyword">from</span> langchain_core.messages <span class="keyword">import</span> ToolMessage</span><br><span class="line"><span class="keyword">from</span> langchain_ollama <span class="keyword">import</span> ChatOllama</span><br><span class="line"></span><br><span class="line"><span class="meta">@wrap_tool_call</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">handle_tool_errors</span>(<span class="params">request, handler</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Handle tool execution errors with custom messages.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">return</span> handler(request)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="comment"># Return a custom error message to the model</span></span><br><span class="line">        <span class="keyword">return</span> ToolMessage(</span><br><span class="line">            content=<span class="string">f&quot;Tool error: Please check your input and try again. (<span class="subst">&#123;<span class="built_in">str</span>(e)&#125;</span>)&quot;</span>,</span><br><span class="line">            tool_call_id=request.tool_call[<span class="string">&quot;id&quot;</span>]</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">model = ChatOllama(model=<span class="string">&quot;qwen3:0.6b&quot;</span>)</span><br><span class="line"></span><br><span class="line">agent = create_agent(</span><br><span class="line">    model=model,</span><br><span class="line">    tools=[search, get_weather],</span><br><span class="line">    middleware=[handle_tool_errors]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>å½“å·¥å…·å¤±è´¥æ—¶ï¼Œæ™ºèƒ½ä½“å°†è¿”å›ä¸€ä¸ªåŒ…å«è‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯çš„ ToolMessage</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    ...</span><br><span class="line">    ToolMessage(</span><br><span class="line">        content=&quot;Tool error: Please check your input and try again. (division by zero)&quot;,</span><br><span class="line">        tool_call_id=&quot;...&quot;</span><br><span class="line">    ),</span><br><span class="line">    ...</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h4 id="1-2-3-ReAct-å¾ªç¯ä¸­çš„å·¥å…·ä½¿ç”¨"><a href="#1-2-3-ReAct-å¾ªç¯ä¸­çš„å·¥å…·ä½¿ç”¨" class="headerlink" title="1.2.3 ReAct å¾ªç¯ä¸­çš„å·¥å…·ä½¿ç”¨"></a>1.2.3 ReAct å¾ªç¯ä¸­çš„å·¥å…·ä½¿ç”¨</h4><p>æ™ºèƒ½ä½“éµå¾ª ReActï¼ˆâ€œæ¨ç†+è¡ŒåŠ¨â€ï¼‰æ¨¡å¼ï¼Œåœ¨ç®€çŸ­çš„æ¨ç†æ­¥éª¤å’Œæœ‰é’ˆå¯¹æ€§çš„å·¥å…·è°ƒç”¨ä¹‹é—´äº¤æ›¿è¿›è¡Œï¼Œå¹¶å°†äº§ç”Ÿçš„è§‚å¯Ÿç»“æœé¦ˆé€åˆ°åç»­å†³ç­–ä¸­ï¼Œç›´åˆ°å®ƒä»¬èƒ½å¤Ÿæä¾›æœ€ç»ˆç­”æ¡ˆã€‚</p>
<h3 id="1-3-ç³»ç»Ÿæç¤º"><a href="#1-3-ç³»ç»Ÿæç¤º" class="headerlink" title="1.3 ç³»ç»Ÿæç¤º"></a>1.3 ç³»ç»Ÿæç¤º</h3><p>å¯ä»¥é€šè¿‡æä¾›æç¤ºæ¥å¡‘é€ æ™ºèƒ½ä½“å¤„ç†ä»»åŠ¡çš„æ–¹å¼ã€‚<code>system_prompt</code> å‚æ•°å¯ä»¥ä½œä¸ºå­—ç¬¦ä¸²æä¾›ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">agent = create_agent(</span><br><span class="line">    model,</span><br><span class="line">    system_prompt=<span class="string">&quot;You are a helpful assistant. Be concise and accurate.&quot;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>å½“æœªæä¾› system_prompt æ—¶ï¼Œæ™ºèƒ½ä½“ä¼šç›´æ¥ä»æ¶ˆæ¯ä¸­æ¨æ–­å…¶ä»»åŠ¡ã€‚</p>
<h4 id="1-3-1-åŠ¨æ€ç³»ç»Ÿæç¤º"><a href="#1-3-1-åŠ¨æ€ç³»ç»Ÿæç¤º" class="headerlink" title="1.3.1 åŠ¨æ€ç³»ç»Ÿæç¤º"></a>1.3.1 åŠ¨æ€ç³»ç»Ÿæç¤º</h4><p>å¯¹äºæ›´é«˜çº§çš„ç”¨ä¾‹ï¼Œå½“æ‚¨éœ€è¦æ ¹æ®è¿è¡Œæ—¶ä¸Šä¸‹æ–‡æˆ–æ™ºèƒ½ä½“çŠ¶æ€ä¿®æ”¹ç³»ç»Ÿæç¤ºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸­é—´ä»¶ã€‚</p>
<p><code>@dynamic_prompt</code> è£…é¥°å™¨åˆ›å»ºäº†ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå¯ä»¥æ ¹æ®æ¨¡å‹è¯·æ±‚åŠ¨æ€ç”Ÿæˆç³»ç»Ÿæç¤ºï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> TypedDict <span class="comment"># ç”¨äºå®šä¹‰å­—å…¸ç±»å‹çš„ç»“æ„åŒ–ç±»å‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> langchain.agents <span class="keyword">import</span> create_agent</span><br><span class="line"><span class="keyword">from</span> langchain.agents.middleware <span class="keyword">import</span> dynamic_prompt, ModelRequest</span><br><span class="line"><span class="keyword">from</span> langchain_ollama <span class="keyword">import</span> ChatOllama</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Context</span>(<span class="title class_ inherited__">TypedDict</span>):</span><br><span class="line">    user_role: <span class="built_in">str</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@dynamic_prompt</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_role_prompt</span>(<span class="params">request: ModelRequest</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Generate system prompt based on user role.&quot;&quot;&quot;</span></span><br><span class="line">    user_role = request.runtime.context.get(<span class="string">&quot;user_role&quot;</span>, <span class="string">&quot;user&quot;</span>)</span><br><span class="line">    base_prompt = <span class="string">&quot;You are a helpful assistant.&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> user_role == <span class="string">&quot;expert&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;base_prompt&#125;</span> Provide detailed technical responses.&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> user_role == <span class="string">&quot;beginner&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;base_prompt&#125;</span> Explain concepts simply and avoid jargon.&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> base_prompt</span><br><span class="line"></span><br><span class="line">model = ChatOllama(model=<span class="string">&quot;qwen3:0.6b&quot;</span>)</span><br><span class="line"></span><br><span class="line">agent = create_agent(</span><br><span class="line">    model=model,</span><br><span class="line">    tools=[],</span><br><span class="line">    middleware=[user_role_prompt],</span><br><span class="line">    context_schema=Context</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># The system prompt will be set dynamically based on context</span></span><br><span class="line">result = agent.invoke(</span><br><span class="line">    &#123;<span class="string">&quot;messages&quot;</span>: [&#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;Explain machine learning&quot;</span>&#125;]&#125;,</span><br><span class="line">    context=&#123;<span class="string">&quot;user_role&quot;</span>: <span class="string">&quot;beginner&quot;</span>&#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>

<pre><code>{&#39;messages&#39;: [HumanMessage(content=&#39;Explain machine learning&#39;, additional_kwargs={}, response_metadata={}, id=&#39;08b352f4-f83c-4cc8-a515-f20e3fe6673d&#39;), AIMessage(content=&quot;Machine learning is a type of artificial intelligence that lets algorithms learn from data to make predictions or decisions. Here&#39;s a simple breakdown:\n\n1. **What is machine learning?**  \n   It&#39;s a process where a computer system improves its performance by learning patterns from data. Instead of being told the right way, the system learns from examples it sees.\n\n2. **Types of machine learning**:\n   - **Supervised learning**: The model learns from labeled data (like a teacher telling it what to do).  \n     Example: A doctor using patient data to predict disease outcomes.  \n   - **Unsupervised learning**: The model finds patterns in data without labels.  \n     Example: A company using customer data to group people into similar groups.  \n   - **Reinforcement learning**: The model learns by rewarding it to do something good.  \n     Example: A robot learning to walk by rewarding it for reaching a goal.\n\n3. **How it works**:\n   - The system analyzes data (like images, sounds, or numbers) and identifies patterns.\n   - It makes decisions or predictions based on this learning, improving over time.\n\n4. **Applications**:\n   - Healthcare: Diagnosing diseases from scans.  \n   - Finance: Predicting stock prices.  \n   - AI: Autonomous vehicles, recommendation systems, etc.\n\nIn short, machine learning is like a computer that learns to do tasks better and smarter by analyzing data! ğŸš€&quot;, additional_kwargs={}, response_metadata={&#39;model&#39;: &#39;qwen3:0.6b&#39;, &#39;created_at&#39;: &#39;2026-01-13T09:01:44.9541407Z&#39;, &#39;done&#39;: True, &#39;done_reason&#39;: &#39;stop&#39;, &#39;total_duration&#39;: 14414859000, &#39;load_duration&#39;: 74147900, &#39;prompt_eval_count&#39;: 33, &#39;prompt_eval_duration&#39;: 23640100, &#39;eval_count&#39;: 525, &#39;eval_duration&#39;: 14183442100, &#39;logprobs&#39;: None, &#39;model_name&#39;: &#39;qwen3:0.6b&#39;, &#39;model_provider&#39;: &#39;ollama&#39;}, id=&#39;lc_run--019bb696-bc2a-7931-841d-59784583c62a-0&#39;, tool_calls=[], invalid_tool_calls=[], usage_metadata={&#39;input_tokens&#39;: 33, &#39;output_tokens&#39;: 525, &#39;total_tokens&#39;: 558})]}
</code></pre>
<h2 id="2-è°ƒç”¨"><a href="#2-è°ƒç”¨" class="headerlink" title="2. è°ƒç”¨"></a>2. è°ƒç”¨</h2><p>å¯ä»¥é€šè¿‡å‘å…¶ <code>State</code> ä¼ é€’æ›´æ–°æ¥è°ƒç”¨æ™ºèƒ½ä½“ã€‚æ‰€æœ‰æ™ºèƒ½ä½“éƒ½åœ¨å…¶çŠ¶æ€ä¸­åŒ…å«ä¸€ç³»åˆ—æ¶ˆæ¯ï¼›è¦è°ƒç”¨æ™ºèƒ½ä½“ï¼Œè¯·ä¼ é€’ä¸€æ¡æ–°æ¶ˆæ¯</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">result = agent.invoke(</span><br><span class="line">    &#123;<span class="string">&quot;messages&quot;</span>: [&#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;What&#x27;s the weather in San Francisco?&quot;</span>&#125;]&#125;,</span><br><span class="line">    context=&#123;<span class="string">&quot;user_role&quot;</span>: <span class="string">&quot;user&quot;</span>&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="3-é«˜çº§æ¦‚å¿µ"><a href="#3-é«˜çº§æ¦‚å¿µ" class="headerlink" title="3. é«˜çº§æ¦‚å¿µ"></a>3. é«˜çº§æ¦‚å¿µ</h2><h3 id="3-1-ç»“æ„åŒ–è¾“å‡º"><a href="#3-1-ç»“æ„åŒ–è¾“å‡º" class="headerlink" title="3.1 ç»“æ„åŒ–è¾“å‡º"></a>3.1 ç»“æ„åŒ–è¾“å‡º</h3><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¸Œæœ›æ™ºèƒ½ä½“ä»¥ç‰¹å®šæ ¼å¼è¿”å›è¾“å‡ºã€‚LangChain é€šè¿‡ response_format å‚æ•°æä¾›ç»“æ„åŒ–è¾“å‡ºç­–ç•¥ã€‚</p>
<h4 id="3-1-1-å·¥å…·ç­–ç•¥-ToolStrategy"><a href="#3-1-1-å·¥å…·ç­–ç•¥-ToolStrategy" class="headerlink" title="3.1.1 å·¥å…·ç­–ç•¥ (ToolStrategy)"></a>3.1.1 å·¥å…·ç­–ç•¥ (ToolStrategy)</h4><p><code>ToolStrategy</code> ä½¿ç”¨äººå·¥å·¥å…·è°ƒç”¨æ¥ç”Ÿæˆç»“æ„åŒ–è¾“å‡ºã€‚è¿™é€‚ç”¨äºä»»ä½•æ”¯æŒå·¥å…·è°ƒç”¨çš„æ¨¡å‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pydantic <span class="keyword">import</span> BaseModel</span><br><span class="line"><span class="keyword">from</span> langchain.agents <span class="keyword">import</span> create_agent</span><br><span class="line"><span class="keyword">from</span> langchain.agents.structured_output <span class="keyword">import</span> ToolStrategy</span><br><span class="line"><span class="keyword">from</span> langchain_ollama <span class="keyword">import</span> ChatOllama</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ContactInfo</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class="line">    name: <span class="built_in">str</span></span><br><span class="line">    email: <span class="built_in">str</span></span><br><span class="line">    phone: <span class="built_in">str</span></span><br><span class="line"></span><br><span class="line">model = ChatOllama(model=<span class="string">&quot;qwen3:0.6b&quot;</span>)</span><br><span class="line"></span><br><span class="line">agent = create_agent(</span><br><span class="line">    model=model,</span><br><span class="line">    <span class="comment"># tools=[search_tool],</span></span><br><span class="line">    tools=[],</span><br><span class="line">    response_format=ToolStrategy(ContactInfo)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">result = agent.invoke(&#123;</span><br><span class="line">    <span class="string">&quot;messages&quot;</span>: [&#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;Extract contact info from: John Doe, john@example.com, (555) 123-4567&quot;</span>&#125;]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">result[<span class="string">&quot;structured_response&quot;</span>]</span><br><span class="line"><span class="comment"># ContactInfo(name=&#x27;John Doe&#x27;, email=&#x27;john@example.com&#x27;, phone=&#x27;(555) 123-4567&#x27;)</span></span><br></pre></td></tr></table></figure>




<pre><code>ContactInfo(name=&#39;John Doe&#39;, email=&#39;john@example.com&#39;, phone=&#39;(555) 123-4567&#39;)
</code></pre>
<h4 id="3-1-2-æä¾›è€…ç­–ç•¥-ProviderStrategy"><a href="#3-1-2-æä¾›è€…ç­–ç•¥-ProviderStrategy" class="headerlink" title="3.1.2 æä¾›è€…ç­–ç•¥ (ProviderStrategy)"></a>3.1.2 æä¾›è€…ç­–ç•¥ (ProviderStrategy)</h4><p><code>ProviderStrategy</code> ä½¿ç”¨æ¨¡å‹æä¾›è€…åŸç”Ÿçš„ç»“æ„åŒ–è¾“å‡ºç”Ÿæˆã€‚è¿™æ›´å¯é ï¼Œä½†ä»…é€‚ç”¨äºæ”¯æŒåŸç”Ÿç»“æ„åŒ–è¾“å‡ºçš„æä¾›è€…ï¼ˆä¾‹å¦‚ OpenAIï¼‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ProviderStrategy ä¸é€‚ç”¨äº Ollama</span></span><br><span class="line"><span class="keyword">from</span> langchain.agents.structured_output <span class="keyword">import</span> ProviderStrategy</span><br><span class="line"></span><br><span class="line">agent = create_agent(</span><br><span class="line">    model=<span class="string">&quot;gpt-4o&quot;</span>,</span><br><span class="line">    response_format=ProviderStrategy(ContactInfo)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="3-2-è®°å¿†"><a href="#3-2-è®°å¿†" class="headerlink" title="3.2 è®°å¿†"></a>3.2 è®°å¿†</h3><p>æ™ºèƒ½ä½“é€šè¿‡æ¶ˆæ¯çŠ¶æ€è‡ªåŠ¨ç»´æŠ¤å¯¹è¯å†å²ã€‚è¿˜å¯ä»¥é…ç½®æ™ºèƒ½ä½“ä½¿ç”¨è‡ªå®šä¹‰çŠ¶æ€æ¨¡å¼ï¼Œä»¥åœ¨å¯¹è¯è¿‡ç¨‹ä¸­è®°ä½é¢å¤–ä¿¡æ¯ã€‚</p>
<p>å­˜å‚¨åœ¨çŠ¶æ€ä¸­çš„ä¿¡æ¯å¯ä»¥è¢«è§†ä¸ºæ™ºèƒ½ä½“çš„çŸ­æœŸè®°å¿†ï¼š</p>
<p>è‡ªå®šä¹‰çŠ¶æ€æ¨¡å¼å¿…é¡»å°† AgentState ä½œä¸º TypedDict æ‰©å±•ã€‚</p>
<p>å®šä¹‰è‡ªå®šä¹‰çŠ¶æ€æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>é€šè¿‡ä¸­é—´ä»¶ï¼ˆé¦–é€‰ï¼‰</li>
<li>é€šè¿‡ <code>state_schema</code> åœ¨ <code>create_agent</code> ä¸Š</li>
</ul>
<h4 id="3-2-1-é€šè¿‡ä¸­é—´ä»¶å®šä¹‰çŠ¶æ€"><a href="#3-2-1-é€šè¿‡ä¸­é—´ä»¶å®šä¹‰çŠ¶æ€" class="headerlink" title="3.2.1 é€šè¿‡ä¸­é—´ä»¶å®šä¹‰çŠ¶æ€"></a>3.2.1 é€šè¿‡ä¸­é—´ä»¶å®šä¹‰çŠ¶æ€</h4><p>å½“è‡ªå®šä¹‰çŠ¶æ€éœ€è¦è¢«ç‰¹å®šçš„ä¸­é—´ä»¶é’©å­å’Œé™„åŠ åˆ°è¯¥ä¸­é—´ä»¶çš„å·¥å…·è®¿é—®æ—¶ï¼Œè¯·ä½¿ç”¨ä¸­é—´ä»¶å®šä¹‰è‡ªå®šä¹‰çŠ¶æ€ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> langchain.agents <span class="keyword">import</span> AgentState</span><br><span class="line"><span class="keyword">from</span> langchain.agents.middleware <span class="keyword">import</span> AgentMiddleware</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomState</span>(<span class="title class_ inherited__">AgentState</span>):</span><br><span class="line">    user_preferences: <span class="built_in">dict</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomMiddleware</span>(<span class="title class_ inherited__">AgentMiddleware</span>):</span><br><span class="line">    state_schema = CustomState</span><br><span class="line">    <span class="comment"># tools = [tool1, tool2]</span></span><br><span class="line">    tools = []</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">before_model</span>(<span class="params">self, state: CustomState, runtime</span>) -&gt; <span class="built_in">dict</span>[<span class="built_in">str</span>, <span class="built_in">any</span>] | <span class="literal">None</span>:</span><br><span class="line">        ...</span><br><span class="line"></span><br><span class="line">agent = create_agent(</span><br><span class="line">    model,</span><br><span class="line">    <span class="comment"># tools=tools,</span></span><br><span class="line">    tools=[],</span><br><span class="line">    middleware=[CustomMiddleware()]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># The agent can now track additional state beyond messages</span></span><br><span class="line">result = agent.invoke(&#123;</span><br><span class="line">    <span class="string">&quot;messages&quot;</span>: [&#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;I prefer technical explanations&quot;</span>&#125;],</span><br><span class="line">    <span class="string">&quot;user_preferences&quot;</span>: &#123;<span class="string">&quot;style&quot;</span>: <span class="string">&quot;technical&quot;</span>, <span class="string">&quot;verbosity&quot;</span>: <span class="string">&quot;detailed&quot;</span>&#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="3-2-2-é€šè¿‡-state-schema-å®šä¹‰çŠ¶æ€"><a href="#3-2-2-é€šè¿‡-state-schema-å®šä¹‰çŠ¶æ€" class="headerlink" title="3.2.2 é€šè¿‡ state_schema å®šä¹‰çŠ¶æ€"></a>3.2.2 é€šè¿‡ state_schema å®šä¹‰çŠ¶æ€</h3><p>ä½¿ç”¨ <code>state_schema</code> å‚æ•°ä½œä¸ºå®šä¹‰ä»…åœ¨å·¥å…·ä¸­ä½¿ç”¨çš„è‡ªå®šä¹‰çŠ¶æ€çš„å¿«æ·æ–¹å¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> langchain.agents <span class="keyword">import</span> AgentState</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomState</span>(<span class="title class_ inherited__">AgentState</span>):</span><br><span class="line">    user_preferences: <span class="built_in">dict</span></span><br><span class="line"></span><br><span class="line">agent = create_agent(</span><br><span class="line">    model,</span><br><span class="line">    <span class="comment"># tools=[tool1, tool2],</span></span><br><span class="line">    tools=[],</span><br><span class="line">    state_schema=CustomState</span><br><span class="line">)</span><br><span class="line"><span class="comment"># The agent can now track additional state beyond messages</span></span><br><span class="line">result = agent.invoke(&#123;</span><br><span class="line">    <span class="string">&quot;messages&quot;</span>: [&#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;I prefer technical explanations&quot;</span>&#125;],</span><br><span class="line">    <span class="string">&quot;user_preferences&quot;</span>: &#123;<span class="string">&quot;style&quot;</span>: <span class="string">&quot;technical&quot;</span>, <span class="string">&quot;verbosity&quot;</span>: <span class="string">&quot;detailed&quot;</span>&#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="3-3-æµå¼å¤„ç†"><a href="#3-3-æµå¼å¤„ç†" class="headerlink" title="3.3 æµå¼å¤„ç†"></a>3.3 æµå¼å¤„ç†</h3><p>æˆ‘ä»¬å·²ç»äº†è§£äº†å¦‚ä½•ä½¿ç”¨ invoke è°ƒç”¨æ™ºèƒ½ä½“ä»¥è·å–æœ€ç»ˆå“åº”ã€‚å¦‚æœæ™ºèƒ½ä½“æ‰§è¡Œå¤šä¸ªæ­¥éª¤ï¼Œè¿™å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´ã€‚ä¸ºäº†æ˜¾ç¤ºä¸­é—´è¿›åº¦ï¼Œæˆ‘ä»¬å¯ä»¥æµå¼ä¼ è¾“æ¶ˆæ¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> chunk <span class="keyword">in</span> agent.stream(&#123;</span><br><span class="line">    <span class="string">&quot;messages&quot;</span>: [&#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;Search for AI news and summarize the findings&quot;</span>&#125;]</span><br><span class="line">&#125;, stream_mode=<span class="string">&quot;values&quot;</span>):</span><br><span class="line">    <span class="comment"># Each chunk contains the full state at that point</span></span><br><span class="line">    latest_message = chunk[<span class="string">&quot;messages&quot;</span>][-<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">if</span> latest_message.content:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Agent: <span class="subst">&#123;latest_message.content&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">elif</span> latest_message.tool_calls:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Calling tools: <span class="subst">&#123;[tc[<span class="string">&#x27;name&#x27;</span>] <span class="keyword">for</span> tc <span class="keyword">in</span> latest_message.tool_calls]&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<pre><code>Agent: Search for AI news and summarize the findings
Agent: To summarize AI news findings, here&#39;s a structured overview:

**Key Findings from Recent AI Developments:**  
1. **Algorithm Breakthroughs**: A new neural network model, &quot;Nexus-2,&quot; achieved 98.7% accuracy in medical diagnosis tasks, outperforming existing methods by 12%.  
2. **Ethical Implications**: A report highlights concerns over AI bias in hiring systems, emphasizing the need for diverse datasets to mitigate biases.  
3. **Healthcare Applications**: AI-powered tools, such as predictive health models, are being integrated into clinics to improve early diagnosis rates, with some countries reporting 30% increases in patient outcomes.  

**Summary:**  
Recent AI advancements demonstrate rapid progress in areas like medical diagnostics and healthcare integration. While ethical concerns persist, the positive impact on efficiency and accuracy is notable. These developments underscore AI&#39;s potential to enhance productivity and address global challenges.  

For the most up-to-date information, refer to trusted news sources like *TechX*, *Nature*, or industry reports.
</code></pre>
<h3 id="3-3-ä¸­é—´ä»¶"><a href="#3-3-ä¸­é—´ä»¶" class="headerlink" title="3.3 ä¸­é—´ä»¶"></a>3.3 ä¸­é—´ä»¶</h3><p>ä¸­é—´ä»¶ä¸ºåœ¨æ‰§è¡Œçš„ä¸åŒé˜¶æ®µè‡ªå®šä¹‰æ™ºèƒ½ä½“è¡Œä¸ºæä¾›äº†å¼ºå¤§çš„å¯æ‰©å±•æ€§ã€‚å¯ä»¥ä½¿ç”¨ä¸­é—´ä»¶æ¥</p>
<ul>
<li>åœ¨æ¨¡å‹è°ƒç”¨å‰å¤„ç†çŠ¶æ€ï¼ˆä¾‹å¦‚ï¼Œæ¶ˆæ¯æˆªæ–­ã€ä¸Šä¸‹æ–‡æ³¨å…¥ï¼‰</li>
<li>ä¿®æ”¹æˆ–éªŒè¯æ¨¡å‹çš„å“åº”ï¼ˆä¾‹å¦‚ï¼Œé˜²æŠ¤æªæ–½ã€å†…å®¹è¿‡æ»¤ï¼‰</li>
<li>ä½¿ç”¨è‡ªå®šä¹‰é€»è¾‘å¤„ç†å·¥å…·æ‰§è¡Œé”™è¯¯</li>
<li>æ ¹æ®çŠ¶æ€æˆ–ä¸Šä¸‹æ–‡å®ç°åŠ¨æ€æ¨¡å‹é€‰æ‹©</li>
<li>æ·»åŠ è‡ªå®šä¹‰æ—¥å¿—ã€ç›‘æ§æˆ–åˆ†æ</li>
</ul>
<p>ä¸­é—´ä»¶æ— ç¼é›†æˆåˆ°æ™ºèƒ½ä½“çš„æ‰§è¡Œå›¾ä¸­ï¼Œå…è®¸åœ¨å…³é”®ç‚¹æ‹¦æˆªå’Œä¿®æ”¹æ•°æ®æµï¼Œè€Œæ— éœ€æ›´æ”¹æ ¸å¿ƒæ™ºèƒ½ä½“é€»è¾‘ã€‚</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="http://example.com">Muzi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://example.com/2026/01/12/langchain-agents/">http://example.com/2026/01/12/langchain-agents/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="http://example.com" target="_blank">MuziCoding</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/LLM/">LLM</a><a class="post-meta__tags" href="/tags/Langchain/">Langchain</a></div><div class="post-share"><div class="social-share" data-image="https://github.com/muzicoding/muzicoding-img/blob/master/avatar/avatar.png?raw=true" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2026/01/13/langchain-models/" title="Langchainæ¨¡å‹(Models)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">Langchainæ¨¡å‹(Models)</div></div><div class="info-2"><div class="info-item-1">å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æ˜¯å¼ºå¤§çš„ AI å·¥å…·ï¼Œèƒ½å¤Ÿåƒäººç±»ä¸€æ ·è§£é‡Šå’Œç”Ÿæˆæ–‡æœ¬ã€‚å®ƒä»¬åŠŸèƒ½å¤šæ ·ï¼Œå¯ä»¥æ’°å†™å†…å®¹ã€ç¿»è¯‘è¯­è¨€ã€æ€»ç»“å’Œå›ç­”é—®é¢˜ï¼Œè€Œæ— éœ€é’ˆå¯¹æ¯ä¸ªä»»åŠ¡è¿›è¡Œä¸“é—¨è®­ç»ƒã€‚ é™¤äº†æ–‡æœ¬ç”Ÿæˆï¼Œè®¸å¤šæ¨¡å‹è¿˜æ”¯æŒï¼š  å·¥å…·è°ƒç”¨ - è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼ˆå¦‚æ•°æ®åº“æŸ¥è¯¢æˆ– API è°ƒç”¨ï¼‰å¹¶åœ¨å…¶å“åº”ä¸­ä½¿ç”¨ç»“æœã€‚ ç»“æ„åŒ–è¾“å‡º - æ¨¡å‹å“åº”è¢«é™åˆ¶ä¸ºéµå¾ªå®šä¹‰çš„æ ¼å¼ã€‚ å¤šæ¨¡æ€ - å¤„ç†å’Œè¿”å›é™¤æ–‡æœ¬ä¹‹å¤–çš„æ•°æ®ï¼Œä¾‹å¦‚å›¾åƒã€éŸ³é¢‘å’Œè§†é¢‘ã€‚ æ¨ç† - æ¨¡å‹æ‰§è¡Œå¤šæ­¥æ¨ç†ä»¥å¾—å‡ºç»“è®ºã€‚  æ¨¡å‹æ˜¯æ™ºèƒ½ä½“çš„æ¨ç†å¼•æ“ã€‚å®ƒä»¬é©±åŠ¨ä»£ç†çš„å†³ç­–è¿‡ç¨‹ï¼Œç¡®å®šè°ƒç”¨å“ªäº›å·¥å…·ã€å¦‚ä½•è§£é‡Šç»“æœä»¥åŠä½•æ—¶æä¾›æœ€ç»ˆç­”æ¡ˆã€‚ é€‰æ‹©çš„æ¨¡å‹çš„è´¨é‡å’Œèƒ½åŠ›ç›´æ¥å½±å“ä»£ç†çš„å¯é æ€§å’Œæ€§èƒ½ã€‚ä¸åŒçš„æ¨¡å‹æ“…é•¿ä¸åŒçš„ä»»åŠ¡â€”â€”æœ‰äº›æ›´æ“…é•¿éµå¾ªå¤æ‚æŒ‡ä»¤ï¼Œæœ‰äº›æ›´æ“…é•¿ç»“æ„åŒ–æ¨ç†ï¼Œæœ‰äº›æ”¯æŒæ›´å¤§çš„ä¸Šä¸‹æ–‡çª—å£æ¥å¤„ç†æ›´å¤šä¿¡æ¯ã€‚ LangChain çš„æ ‡å‡†æ¨¡å‹æ¥å£è®©å¯ä»¥è®¿é—®è®¸å¤šä¸åŒçš„æä¾›å•†é›†æˆï¼Œè¿™ä½¿å¾—å®éªŒå’Œåˆ‡æ¢æ¨¡å‹å˜å¾—å®¹æ˜“ï¼Œä»è€Œæ‰¾åˆ°æœ€é€‚åˆæƒ…å†µçš„æ¨¡å‹ã€‚ 1 åŸºæœ¬ç”¨æ³•æ¨¡å‹å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ä½¿ç”¨  ä¸ä»£ç†ä¸€èµ·ä½¿ç”¨ - åœ¨åˆ›å»ºä»£ç†æ—¶å¯ä»¥åŠ¨æ€æŒ‡å®šæ¨¡å‹ã€‚ ç‹¬ç«‹ä½¿ç”¨ - æ¨¡å‹å¯ä»¥ç›´æ¥è°ƒç”¨ï¼ˆåœ¨ä»£ç†å¾ªç¯ä¹‹å¤–ï¼‰ï¼Œç”¨äºæ–‡æœ¬ç”Ÿæˆã€åˆ†ç±»æˆ–æå–ç­‰...</div></div></div></a><a class="pagination-related" href="/2026/01/11/langchain-quickstart/" title="LangChainå¿«é€Ÿä¸Šæ‰‹"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">LangChainå¿«é€Ÿä¸Šæ‰‹</div></div><div class="info-2"><div class="info-item-1">1. æ„å»ºä¸€ä¸ªåŸºæœ¬ä»£ç†åˆ›å»ºä¸€ä¸ªå¯ä»¥å›ç­”é—®é¢˜å’Œè°ƒç”¨å·¥å…·çš„ç®€å•ä»£ç†ã€‚ä»£ç†ä½¿ç”¨åŸºäºOllamaæœ¬åœ°éƒ¨ç½²çš„qwen3:4bä½œä¸ºå…¶è¯­è¨€æ¨¡å‹ï¼Œä¸€ä¸ªåŸºæœ¬å¤©æ°”åŠŸèƒ½ä½œä¸ºå·¥å…·ï¼Œä»¥åŠä¸€ä¸ªç®€å•æç¤ºæ¥æŒ‡å¯¼å…¶è¡Œä¸ºã€‚ 123456789101112131415161718192021from langchain.agents import create_agentfrom langchain_ollama import ChatOllamallm = ChatOllama(model=&quot;qwen3:1.7b&quot;)# Define a simple weather functiondef get_weather(city: str) -&gt; str:    &quot;&quot;&quot;Get weather for a given city.&quot;&quot;&quot;    return f&quot;It&#x27;s always sunny in &#123;city&#125;!&quot;# Create the agentagent = create_agen...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2026/01/16/langchain-short-term-memory/" title="çŸ­æœŸè®°å¿†(Short Term Memory)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-01-16</div><div class="info-item-2">çŸ­æœŸè®°å¿†(Short Term Memory)</div></div><div class="info-2"><div class="info-item-1">1. æ¦‚è§ˆè®°å¿†æ˜¯ä¸€ä¸ªç³»ç»Ÿï¼Œç”¨äºå­˜å‚¨å…³äºå…ˆå‰äº¤äº’çš„ä¿¡æ¯ã€‚å¯¹äº AI ä»£ç†æ¥è¯´ï¼Œè®°å¿†è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒä½¿å®ƒä»¬èƒ½å¤Ÿè®°ä½å…ˆå‰çš„äº¤äº’ï¼Œä»åé¦ˆä¸­å­¦ä¹ ï¼Œå¹¶é€‚åº”ç”¨æˆ·åå¥½ã€‚éšç€ä»£ç†å¤„ç†æ¶‰åŠå¤§é‡ç”¨æˆ·äº¤äº’çš„æ›´å¤æ‚ä»»åŠ¡ï¼Œè¿™ç§èƒ½åŠ›å¯¹äºæ•ˆç‡å’Œç”¨æˆ·æ»¡æ„åº¦éƒ½å˜å¾—è‡³å…³é‡è¦ã€‚ çŸ­æœŸè®°å¿†è®©åº”ç”¨ç¨‹åºèƒ½å¤Ÿè®°ä½å•ä¸ªçº¿ç¨‹æˆ–å¯¹è¯ä¸­çš„å…ˆå‰äº¤äº’ã€‚ å¯¹è¯å†å²æ˜¯çŸ­æœŸè®°å¿†æœ€å¸¸è§çš„å½¢å¼ã€‚é•¿å¯¹è¯å¯¹å½“ä»Šçš„ LLM æå‡ºäº†æŒ‘æˆ˜ï¼›å®Œæ•´çš„å†å²å¯èƒ½æ— æ³•å®Œå…¨é€‚åº” LLM çš„ä¸Šä¸‹æ–‡çª—å£ï¼Œå¯¼è‡´ä¸Šä¸‹æ–‡ä¸¢å¤±æˆ–é”™è¯¯ã€‚å³ä½¿ä½ çš„æ¨¡å‹æ”¯æŒå®Œæ•´çš„ä¸Šä¸‹æ–‡é•¿åº¦ï¼Œå¤§å¤šæ•° LLM åœ¨é•¿ä¸Šä¸‹æ–‡ä¸­è¡¨ç°ä»ç„¶ä¸ä½³ã€‚å®ƒä»¬ä¼šè¢«è¿‡æ—¶æˆ–åç¦»ä¸»é¢˜çš„å†…å®¹â€œåˆ†æ•£æ³¨æ„åŠ›â€ï¼ŒåŒæ—¶å“åº”æ—¶é—´æ›´æ…¢ï¼Œæˆæœ¬æ›´é«˜ã€‚ èŠå¤©æ¨¡å‹ä½¿ç”¨æ¶ˆæ¯æ¥å—ä¸Šä¸‹æ–‡ï¼Œå…¶ä¸­åŒ…æ‹¬æŒ‡ä»¤ï¼ˆç³»ç»Ÿæ¶ˆæ¯ï¼‰å’Œè¾“å…¥ï¼ˆäººç±»æ¶ˆæ¯ï¼‰ã€‚åœ¨èŠå¤©åº”ç”¨ç¨‹åºä¸­ï¼Œæ¶ˆæ¯åœ¨äººç±»è¾“å…¥å’Œæ¨¡å‹å“åº”ä¹‹é—´äº¤æ›¿ï¼Œå¯¼è‡´æ¶ˆæ¯åˆ—è¡¨éšç€æ—¶é—´å¢é•¿ã€‚ç”±äºä¸Šä¸‹æ–‡çª—å£æœ‰é™ï¼Œè®¸å¤šåº”ç”¨ç¨‹åºå¯ä»¥ä»ä½¿ç”¨æŠ€æœ¯æ¥åˆ é™¤æˆ–â€œå¿˜è®°â€è¿‡æ—¶ä¿¡æ¯ä¸­å—ç›Šã€‚ 2. ç”¨æ³•è¦ä¸ºä»£ç†æ·»åŠ çŸ­æœŸè®°å¿†ï¼ˆçº¿ç¨‹çº§æŒä¹…æ€§ï¼‰ï¼Œéœ€è¦åœ¨åˆ›å»ºä»£ç†æ—¶æŒ‡å®šä¸€ä¸ª checkpointerã€‚ 1234567891011121314151617181920212223f...</div></div></div></a><a class="pagination-related" href="/2026/01/15/langchain-tools/" title="Langchainå·¥å…·(Tools)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-01-15</div><div class="info-item-2">Langchainå·¥å…·(Tools)</div></div><div class="info-2"><div class="info-item-1">è®¸å¤š AI åº”ç”¨ç¨‹åºé€šè¿‡è‡ªç„¶è¯­è¨€ä¸ç”¨æˆ·äº¤äº’ã€‚ç„¶è€Œï¼ŒæŸäº›ç”¨ä¾‹è¦æ±‚æ¨¡å‹ä½¿ç”¨ç»“æ„åŒ–è¾“å…¥ç›´æ¥ä¸å¤–éƒ¨ç³»ç»Ÿï¼ˆå¦‚ APIã€æ•°æ®åº“æˆ–æ–‡ä»¶ç³»ç»Ÿï¼‰è¿›è¡Œæ¥å£ã€‚ å·¥å…·æ˜¯æ™ºèƒ½ä½“è°ƒç”¨ä»¥æ‰§è¡Œæ“ä½œçš„ç»„ä»¶ã€‚å®ƒä»¬é€šè¿‡è®©æ¨¡å‹é€šè¿‡å®šä¹‰æ˜ç¡®çš„è¾“å…¥å’Œè¾“å‡ºä¸ä¸–ç•Œäº¤äº’æ¥æ‰©å±•æ¨¡å‹åŠŸèƒ½ã€‚å·¥å…·å°è£…äº†ä¸€ä¸ªå¯è°ƒç”¨å‡½æ•°åŠå…¶è¾“å…¥æ¨¡å¼ã€‚è¿™äº›å¯ä»¥ä¼ é€’ç»™å…¼å®¹çš„èŠå¤©æ¨¡å‹ï¼Œå…è®¸æ¨¡å‹å†³å®šæ˜¯å¦è°ƒç”¨å·¥å…·ä»¥åŠä½¿ç”¨å“ªäº›å‚æ•°ã€‚åœ¨è¿™äº›åœºæ™¯ä¸­ï¼Œå·¥å…·è°ƒç”¨ä½¿æ¨¡å‹èƒ½å¤Ÿç”Ÿæˆç¬¦åˆæŒ‡å®šè¾“å…¥æ¨¡å¼çš„è¯·æ±‚ã€‚ 1. åˆ›å»ºå·¥å…·1.1 åŸºæœ¬å·¥å…·å®šä¹‰åˆ›å»ºå·¥å…·æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ @tool è£…é¥°å™¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå‡½æ•°çš„æ–‡æ¡£å­—ç¬¦ä¸²æˆä¸ºå·¥å…·çš„æè¿°ï¼Œå¸®åŠ©æ¨¡å‹ç†è§£ä½•æ—¶ä½¿ç”¨å®ƒã€‚ 1234567891011from langchain.tools import tool@tooldef search_database(query: str, limit: int = 10) -&gt; str:    &quot;&quot;&quot;Search the customer database for records matching the query.    Args:        query: Se...</div></div></div></a><a class="pagination-related" href="/2025/12/30/Langchain%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/" title="LangChainç¯å¢ƒå®‰è£…"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-30</div><div class="info-item-2">LangChainç¯å¢ƒå®‰è£…</div></div><div class="info-2"><div class="info-item-1">1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒè¿™é‡Œæˆ‘é‡‡ç”¨çš„æ˜¯ conda ç¯å¢ƒï¼š 12345# åˆ›å»ºåä¸º langchain-env çš„æ–°ç¯å¢ƒï¼ˆä½¿ç”¨ Python 3.10ï¼‰conda create -n langchain-env python=3.10 -y# æ¿€æ´»ç¯å¢ƒconda activate langchain-env 2. å®‰è£…LangChainä»¥åŠç›¸å…³ä¾èµ–123456# å®‰è£… langchain æ ¸å¿ƒåŒ…pip install langchain# å®‰è£…å¸¸ç”¨çš„ç»„ä»¶ï¼ˆä¾‹å¦‚ OpenAIã€æœ¬åœ° LLM æ”¯æŒã€æ–‡æ¡£åŠ è½½å™¨ç­‰ï¼‰pip install langchain-openai  # å¦‚æœä½ æ‰“ç®—ç”¨ OpenAIpip install python-dotenv     # ç”¨äºç®¡ç† API å¯†é’¥ 3. åŸºäºopen-aiæ¨¡å‹çš„å…¥é—¨ç¨‹åº3.1 è®¾ç½® API å¯†é’¥æ–°å»ºä¸€ä¸ªlangchain_demoé¡¹ç›® åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ–°å»º.envæ–‡ä»¶ 1touch .env  ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ OpenAI API Keyï¼š 1OPENAI_API_KEY=openai-api-key-here  ä» Ope...</div></div></div></a><a class="pagination-related" href="/2026/01/14/langchain-messages/" title="Langchainæ¶ˆæ¯(Messages)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-01-14</div><div class="info-item-2">Langchainæ¶ˆæ¯(Messages)</div></div><div class="info-2"><div class="info-item-1">æ¶ˆæ¯æ˜¯ LangChain ä¸­æ¨¡å‹ä¸Šä¸‹æ–‡çš„åŸºæœ¬å•ä½ã€‚å®ƒä»¬ä»£è¡¨æ¨¡å‹çš„è¾“å…¥å’Œè¾“å‡ºï¼Œæ‰¿è½½ä¸ LLM äº¤äº’æ—¶è¡¨ç¤ºå¯¹è¯çŠ¶æ€æ‰€éœ€çš„å†…å®¹å’Œå…ƒæ•°æ®ã€‚æ¶ˆæ¯æ˜¯åŒ…å«ä»¥ä¸‹å†…å®¹çš„å¯¹è±¡ï¼š  è§’è‰² - è¯†åˆ«æ¶ˆæ¯ç±»å‹ï¼ˆä¾‹å¦‚ systemã€userï¼‰ å†…å®¹ - è¡¨ç¤ºæ¶ˆæ¯çš„å®é™…å†…å®¹ï¼ˆå¦‚æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€æ–‡æ¡£ç­‰ï¼‰ å…ƒæ•°æ® - å¯é€‰å­—æ®µï¼Œå¦‚å“åº”ä¿¡æ¯ã€æ¶ˆæ¯ ID å’Œä»¤ç‰Œä½¿ç”¨æƒ…å†µ  LangChain æä¾›äº†ä¸€ç§é€‚ç”¨äºæ‰€æœ‰æ¨¡å‹æä¾›å•†çš„æ ‡å‡†æ¶ˆæ¯ç±»å‹ï¼Œæ— è®ºè°ƒç”¨å“ªä¸ªæ¨¡å‹ï¼Œéƒ½èƒ½ç¡®ä¿ä¸€è‡´çš„è¡Œä¸ºã€‚ 1. åŸºæœ¬ç”¨æ³•ä½¿ç”¨æ¶ˆæ¯æœ€ç®€å•çš„æ–¹æ³•æ˜¯åˆ›å»ºæ¶ˆæ¯å¯¹è±¡å¹¶åœ¨è°ƒç”¨æ—¶å°†å…¶ä¼ é€’ç»™æ¨¡å‹ã€‚ 123456789101112from langchain.messages import HumanMessage, AIMessage, SystemMessagefrom langchain_ollama import ChatOllamamodel = ChatOllama(model=&quot;qwen3:0.6b&quot;)system_msg = SystemMessage(&quot;You are a helpful assistant.&qu...</div></div></div></a><a class="pagination-related" href="/2026/01/11/langchain-quickstart/" title="LangChainå¿«é€Ÿä¸Šæ‰‹"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-01-11</div><div class="info-item-2">LangChainå¿«é€Ÿä¸Šæ‰‹</div></div><div class="info-2"><div class="info-item-1">1. æ„å»ºä¸€ä¸ªåŸºæœ¬ä»£ç†åˆ›å»ºä¸€ä¸ªå¯ä»¥å›ç­”é—®é¢˜å’Œè°ƒç”¨å·¥å…·çš„ç®€å•ä»£ç†ã€‚ä»£ç†ä½¿ç”¨åŸºäºOllamaæœ¬åœ°éƒ¨ç½²çš„qwen3:4bä½œä¸ºå…¶è¯­è¨€æ¨¡å‹ï¼Œä¸€ä¸ªåŸºæœ¬å¤©æ°”åŠŸèƒ½ä½œä¸ºå·¥å…·ï¼Œä»¥åŠä¸€ä¸ªç®€å•æç¤ºæ¥æŒ‡å¯¼å…¶è¡Œä¸ºã€‚ 123456789101112131415161718192021from langchain.agents import create_agentfrom langchain_ollama import ChatOllamallm = ChatOllama(model=&quot;qwen3:1.7b&quot;)# Define a simple weather functiondef get_weather(city: str) -&gt; str:    &quot;&quot;&quot;Get weather for a given city.&quot;&quot;&quot;    return f&quot;It&#x27;s always sunny in &#123;city&#125;!&quot;# Create the agentagent = create_agen...</div></div></div></a><a class="pagination-related" href="/2026/01/13/langchain-models/" title="Langchainæ¨¡å‹(Models)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-01-13</div><div class="info-item-2">Langchainæ¨¡å‹(Models)</div></div><div class="info-2"><div class="info-item-1">å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æ˜¯å¼ºå¤§çš„ AI å·¥å…·ï¼Œèƒ½å¤Ÿåƒäººç±»ä¸€æ ·è§£é‡Šå’Œç”Ÿæˆæ–‡æœ¬ã€‚å®ƒä»¬åŠŸèƒ½å¤šæ ·ï¼Œå¯ä»¥æ’°å†™å†…å®¹ã€ç¿»è¯‘è¯­è¨€ã€æ€»ç»“å’Œå›ç­”é—®é¢˜ï¼Œè€Œæ— éœ€é’ˆå¯¹æ¯ä¸ªä»»åŠ¡è¿›è¡Œä¸“é—¨è®­ç»ƒã€‚ é™¤äº†æ–‡æœ¬ç”Ÿæˆï¼Œè®¸å¤šæ¨¡å‹è¿˜æ”¯æŒï¼š  å·¥å…·è°ƒç”¨ - è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼ˆå¦‚æ•°æ®åº“æŸ¥è¯¢æˆ– API è°ƒç”¨ï¼‰å¹¶åœ¨å…¶å“åº”ä¸­ä½¿ç”¨ç»“æœã€‚ ç»“æ„åŒ–è¾“å‡º - æ¨¡å‹å“åº”è¢«é™åˆ¶ä¸ºéµå¾ªå®šä¹‰çš„æ ¼å¼ã€‚ å¤šæ¨¡æ€ - å¤„ç†å’Œè¿”å›é™¤æ–‡æœ¬ä¹‹å¤–çš„æ•°æ®ï¼Œä¾‹å¦‚å›¾åƒã€éŸ³é¢‘å’Œè§†é¢‘ã€‚ æ¨ç† - æ¨¡å‹æ‰§è¡Œå¤šæ­¥æ¨ç†ä»¥å¾—å‡ºç»“è®ºã€‚  æ¨¡å‹æ˜¯æ™ºèƒ½ä½“çš„æ¨ç†å¼•æ“ã€‚å®ƒä»¬é©±åŠ¨ä»£ç†çš„å†³ç­–è¿‡ç¨‹ï¼Œç¡®å®šè°ƒç”¨å“ªäº›å·¥å…·ã€å¦‚ä½•è§£é‡Šç»“æœä»¥åŠä½•æ—¶æä¾›æœ€ç»ˆç­”æ¡ˆã€‚ é€‰æ‹©çš„æ¨¡å‹çš„è´¨é‡å’Œèƒ½åŠ›ç›´æ¥å½±å“ä»£ç†çš„å¯é æ€§å’Œæ€§èƒ½ã€‚ä¸åŒçš„æ¨¡å‹æ“…é•¿ä¸åŒçš„ä»»åŠ¡â€”â€”æœ‰äº›æ›´æ“…é•¿éµå¾ªå¤æ‚æŒ‡ä»¤ï¼Œæœ‰äº›æ›´æ“…é•¿ç»“æ„åŒ–æ¨ç†ï¼Œæœ‰äº›æ”¯æŒæ›´å¤§çš„ä¸Šä¸‹æ–‡çª—å£æ¥å¤„ç†æ›´å¤šä¿¡æ¯ã€‚ LangChain çš„æ ‡å‡†æ¨¡å‹æ¥å£è®©å¯ä»¥è®¿é—®è®¸å¤šä¸åŒçš„æä¾›å•†é›†æˆï¼Œè¿™ä½¿å¾—å®éªŒå’Œåˆ‡æ¢æ¨¡å‹å˜å¾—å®¹æ˜“ï¼Œä»è€Œæ‰¾åˆ°æœ€é€‚åˆæƒ…å†µçš„æ¨¡å‹ã€‚ 1 åŸºæœ¬ç”¨æ³•æ¨¡å‹å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ä½¿ç”¨  ä¸ä»£ç†ä¸€èµ·ä½¿ç”¨ - åœ¨åˆ›å»ºä»£ç†æ—¶å¯ä»¥åŠ¨æ€æŒ‡å®šæ¨¡å‹ã€‚ ç‹¬ç«‹ä½¿ç”¨ - æ¨¡å‹å¯ä»¥ç›´æ¥è°ƒç”¨ï¼ˆåœ¨ä»£ç†å¾ªç¯ä¹‹å¤–ï¼‰ï¼Œç”¨äºæ–‡æœ¬ç”Ÿæˆã€åˆ†ç±»æˆ–æå–ç­‰...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://github.com/muzicoding/muzicoding-img/blob/master/avatar/avatar.png?raw=true" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Muzi</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">18</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/muzicoding"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/muzicoding" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:xpli0129@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6"><span class="toc-number">1.</span> <span class="toc-text">1. æ ¸å¿ƒç»„ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 æ¨¡å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-1-%E9%9D%99%E6%80%81%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1.1 é™æ€æ¨¡å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-2-%E5%8A%A8%E6%80%81%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.1.2 åŠ¨æ€æ¨¡å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E5%B7%A5%E5%85%B7"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 å·¥å…·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-1-%E5%AE%9A%E4%B9%89%E5%B7%A5%E5%85%B7"><span class="toc-number">1.3.</span> <span class="toc-text">1.2.1 å®šä¹‰å·¥å…·</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-2-%E5%B7%A5%E5%85%B7%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.2.2 å·¥å…·é”™è¯¯å¤„ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-3-ReAct-%E5%BE%AA%E7%8E%AF%E4%B8%AD%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.2.</span> <span class="toc-text">1.2.3 ReAct å¾ªç¯ä¸­çš„å·¥å…·ä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E7%B3%BB%E7%BB%9F%E6%8F%90%E7%A4%BA"><span class="toc-number">1.4.</span> <span class="toc-text">1.3 ç³»ç»Ÿæç¤º</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-1-%E5%8A%A8%E6%80%81%E7%B3%BB%E7%BB%9F%E6%8F%90%E7%A4%BA"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.3.1 åŠ¨æ€ç³»ç»Ÿæç¤º</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%B0%83%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">2. è°ƒç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E9%AB%98%E7%BA%A7%E6%A6%82%E5%BF%B5"><span class="toc-number">3.</span> <span class="toc-text">3. é«˜çº§æ¦‚å¿µ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E7%BB%93%E6%9E%84%E5%8C%96%E8%BE%93%E5%87%BA"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 ç»“æ„åŒ–è¾“å‡º</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1-%E5%B7%A5%E5%85%B7%E7%AD%96%E7%95%A5-ToolStrategy"><span class="toc-number">3.1.1.</span> <span class="toc-text">3.1.1 å·¥å…·ç­–ç•¥ (ToolStrategy)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-2-%E6%8F%90%E4%BE%9B%E8%80%85%E7%AD%96%E7%95%A5-ProviderStrategy"><span class="toc-number">3.1.2.</span> <span class="toc-text">3.1.2 æä¾›è€…ç­–ç•¥ (ProviderStrategy)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E8%AE%B0%E5%BF%86"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 è®°å¿†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-%E9%80%9A%E8%BF%87%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AE%9A%E4%B9%89%E7%8A%B6%E6%80%81"><span class="toc-number">3.2.1.</span> <span class="toc-text">3.2.1 é€šè¿‡ä¸­é—´ä»¶å®šä¹‰çŠ¶æ€</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-%E9%80%9A%E8%BF%87-state-schema-%E5%AE%9A%E4%B9%89%E7%8A%B6%E6%80%81"><span class="toc-number">3.3.</span> <span class="toc-text">3.2.2 é€šè¿‡ state_schema å®šä¹‰çŠ¶æ€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E6%B5%81%E5%BC%8F%E5%A4%84%E7%90%86"><span class="toc-number">3.4.</span> <span class="toc-text">3.3 æµå¼å¤„ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-number">3.5.</span> <span class="toc-text">3.3 ä¸­é—´ä»¶</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/16/langchain-short-term-memory/" title="çŸ­æœŸè®°å¿†(Short Term Memory)">çŸ­æœŸè®°å¿†(Short Term Memory)</a><time datetime="2026-01-15T16:00:00.000Z" title="å‘è¡¨äº 2026-01-16 00:00:00">2026-01-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/15/langchain-tools/" title="Langchainå·¥å…·(Tools)">Langchainå·¥å…·(Tools)</a><time datetime="2026-01-14T16:00:00.000Z" title="å‘è¡¨äº 2026-01-15 00:00:00">2026-01-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/14/langchain-messages/" title="Langchainæ¶ˆæ¯(Messages)">Langchainæ¶ˆæ¯(Messages)</a><time datetime="2026-01-13T16:00:00.000Z" title="å‘è¡¨äº 2026-01-14 00:00:00">2026-01-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/13/langchain-models/" title="Langchainæ¨¡å‹(Models)">Langchainæ¨¡å‹(Models)</a><time datetime="2026-01-12T16:00:00.000Z" title="å‘è¡¨äº 2026-01-13 00:00:00">2026-01-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/12/langchain-agents/" title="Langchainæ™ºèƒ½ä½“(Agents)">Langchainæ™ºèƒ½ä½“(Agents)</a><time datetime="2026-01-11T16:00:00.000Z" title="å‘è¡¨äº 2026-01-12 00:00:00">2026-01-12</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://github.com/muzicoding/muzicoding-img/blob/master/footer_img/background.jpeg?raw=true);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By Muzi</span><span class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3"></script><script src="/js/main.js?v=5.5.3"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>